<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fuel Types - NauticalFlow</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
      <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <link href="../styles.css" rel="stylesheet">
</head>
<body>

     <div id="loading-overlay" class="loading-overlay">
        <img src="../assets/img/loader-icon.svg" alt="Loading..." class="loader-icon">
    </div>

    <!-- Placeholder for a navigation bar -->
    <div id="navbar-placeholder"></div>

    <div class="d-flex">
        <!-- Placeholder for a sidebar -->
        <div id="sidebar-placeholder"></div>

        <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4" id="main-content">
            <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                <h1 class="page-title"><i class="bi bi-fuel-pump me-2"></i>Fuel Type Management</h1>
            </div>

            <!-- Informational card about fuel data -->
          <div class="card bg-light border-info shadow-sm mb-4">
    <div class="card-body">
        <h5 class="card-title text-info"><i class="bi bi-info-circle-fill me-2"></i>Guidance: Understanding Fuel Data for Optimization</h5>
        <p class="card-text">Accurate fuel data is the lifeblood of our Genetic Algorithm. It allows the system to make intelligent, cost-effective, and compliant routing decisions.</p>
        
        <hr>

        <h6><i class="bi bi-bullseye me-2"></i>Why This Data is Needed?</h6>
        <ul>
            <li><strong>Cost per Ton ($):</strong> This is the direct financial cost. The algorithm cannot find the cheapest route without knowing the exact price of different fuels at various ports.</li>
            <li><strong>CO₂ Emission Factor:</strong> This is the environmental and regulatory cost. The algorithm uses this to plan routes that comply with Emission Control Areas (ECAs), avoiding significant fines and ensuring your fleet meets environmental targets.</li>
        </ul>

        <h6><i class="bi bi-droplet-half me-2"></i>Common Fuel Types for Cruise Ships</h6>
        <p>The system is designed to handle modern marine fuels used in international shipping:</p>
        <ul>
            <li><strong>Very Low Sulphur Fuel Oil (VLSFO):</strong> The most common fuel used globally to comply with the IMO 2020 sulphur cap.</li>
            <li><strong>Marine Gas Oil (MGO):</strong> A cleaner, more expensive distillate fuel required for operation inside strict Emission Control Areas (ECAs).</li>
            <li><strong>Liquified Natural Gas (LNG):</strong> A cleaner-burning alternative fuel used by modern ships to significantly reduce sulphur, nitrogen oxides, and particulate matter.</li>
        </ul>

        <h6><i class="bi bi-clipboard-data me-2"></i>How to Get Accurate Data</h6>
        <ul>
            <li>
                <strong>Cost per Ton:</strong> Fuel prices are highly variable and differ by port. For operational planning, you can get free, daily price indications from online aggregators.
                <ul>
                    <li><strong>Recommended Source:</strong> <a href="https://shipandbunker.com/prices" target="_blank">Ship & Bunker</a></li>
                    <li><strong>How-to:</strong> Visit the link to find the latest indicative price in USD for your intended bunkering port. Since Singapore is the main price reference for the Southeast Asian region, its price is a reliable benchmark.</li>
                </ul>
            </li>
            <li>
                <strong>CO₂ Emission Factor:</strong> These are standardized, non-changing values provided by the International Maritime Organization (IMO) for compliance reporting.
                <ul>
                    <li><strong>Official Source Document:</strong> <a href="https://www.classnk.or.jp/hp/pdf/activities/statutory/eedi/mepc_1-circ_684.pdf" target="_blank">IMO Circular MEPC.1/Circ.684</a></li>
                    <li><strong>How-to:</strong> The system automates this for you. Simply select the correct "Fuel Category" in the form, and the official factor will be applied automatically.</li>
                </ul>
            </li>
        </ul>
        <hr>
        <div class="alert alert-primary mb-0">
            <strong><i class="bi bi-star-fill me-2"></i>Pro-Tip for Operators:</strong> Fuel prices change daily. For the most effective cost savings, it is critical to update the fuel costs in this system **before planning any new itineraries**. This ensures the algorithm is working with the most current market data.
        </div>
    </div>
</div>

            <!-- Card for the fuel types database table -->
            <div class="card shadow mb-4">
                <div class="card-header py-3 d-flex justify-content-between align-items-center">
                    <h6 class="m-0 font-weight-bold text-primary">Fuel Types Database</h6>
                    <button class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#fuelTypeModal">
                        <i class="bi bi-plus-circle me-1"></i>Add Fuel Type
                    </button>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-hover" id="fuel-types-table">
                            <thead>
                                <tr>
                                    <th>Fuel Name</th>
                                    <th>Bunkering Port</th>
                                    <th>Cost per Ton (USD)</th>
                                    <th>Price Date</th>
                                    <th>CO₂ Emission Factor</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Data will be populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Modal for adding/editing a fuel type -->
           <div class="modal fade" id="fuelTypeModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="fuelTypeModalLabel">Add New Fuel Type</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <form id="fuelTypeForm">
                    <input type="hidden" id="fuelTypeId">
                    <div class="mb-3">
                        <label for="fuelName" class="form-label">Fuel Name (e.g., VLSFO 0.5%)</label>
                        <input type="text" class="form-control" id="fuelName" required>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-5">
                            <label for="cost" class="form-label">Cost</label>
                            <input type="number" class="form-control" id="cost" step="0.01" required>
                        </div>
                        <div class="col-md-3">
                            <label for="currency" class="form-label">Currency</label>
                            <select id="currency" class="form-select">
                                <option value="USD" selected>USD</option>
                                <option value="MYR">MYR</option>
                            </select>
                        </div>
                        <div class="col-md-4">
                            <label for="priceDate" class="form-label">Price Date</label>
                            <input type="date" class="form-control" id="priceDate" required>
                        </div>
                    </div>
                    <div class="form-text mb-3">If MYR is selected, the cost will be converted and stored in USD.</div>

                    <div class="mb-3">
                        <label for="bunkeringPort" class="form-label">Bunkering Port</label>
                        <input type="text" class="form-control" id="bunkeringPort" placeholder="e.g., Singapore">
                        <div class="form-text">Enter the port where this price is applicable.</div>
                    </div>

                    <div class="mb-3">
                        <label for="fuelCategory" class="form-label">Fuel Category (for IMO Reporting)</label>
                        <select id="fuelCategory" class="form-select" required>
                            <option value="" disabled selected>Select an official category...</option>
                            <option value="3.206000">Diesel / Gas Oil</option>
                            <option value="3.151040">Light Fuel Oil (LFO)</option>
                            <option value="2.750000">Liquified Natural Gas (LNG)</option>
                            <option value="3.114400">Heavy Fuel Oil (HFO)</option>
                            <option value="3.000000">Liquified Petroleum Gas (LPG) - Propane</option>
                            <option value="3.030000">Liquified Petroleum Gas (LPG) - Butane</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="co2Factor" class="form-label">CO₂ Factor (t-CO₂ / t-Fuel)</label>
                        <input type="text" class="form-control" id="co2Factor" readonly>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="submit" form="fuelTypeForm" class="btn btn-primary">Save Fuel Type</button>
            </div>
        </div>
    </div>
</div>
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- The JavaScript file that will handle the logic for this page -->
    <script type="module" src="js/fuel-types.js"></script>
</body>
</html>
